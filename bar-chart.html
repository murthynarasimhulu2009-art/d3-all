<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Bar Chart</title>
<script src="https://d3js.org/d3.v7.min.js"></script>
<style>
  body { font-family: sans-serif; }
  .axis path, .axis line { stroke: #000; }
  .title { text-anchor: middle; font-size: 18px; font-weight: bold; }
</style>
</head>
<body>
<h2 style="text-align:center;">Bar Chart</h2>
<div id="bar-chart"></div>
<script>
// Inline data
const data = [
  {"category":"A","value":45.2,"count":234},
  {"category":"B","value":67.8,"count":456},
  {"category":"C","value":23.1,"count":123},
  {"category":"D","value":89.4,"count":789},
  {"category":"E","value":34.7,"count":345},
  {"category":"F","value":56.3,"count":567}
];

// Dimensions
const width = 800;
const height = 400;

// Create SVG
const svg = d3.select('#bar-chart')
  .append('svg')
  .attr('width', width)
  .attr('height', height);

// Scales (mirroring config)
const xScale = d3.scaleBand()
  .domain(data.map(d => d.category))
  .range([50, 750])
  .padding(0.1);

const yScale = d3.scaleLinear()
  .domain([0, d3.max(data, d => d.value)])
  .nice()
  .range([350, 50]);

const colorScale = d3.scaleOrdinal()
  .domain(data.map(d => d.category))
  .range(d3.schemeCategory10);

// Axes
const xAxis = d3.axisBottom(xScale);
const yAxis = d3.axisLeft(yScale).ticks(5);

// Draw axes
svg.append('g')
  .attr('class', 'axis x')
  .attr('transform', 'translate(0,350)')
  .call(xAxis);

svg.append('g')
  .attr('class', 'axis y')
  .attr('transform', 'translate(50,0)')
  .call(yAxis);

// Draw bars
svg.selectAll('.bar')
  .data(data)
  .enter()
  .append('rect')
  .attr('class', 'bar')
  .attr('x', d => xScale(d.category))
  .attr('y', d => yScale(d.value))
  .attr('width', xScale.bandwidth())
  .attr('height', d => 350 - yScale(d.value))
  .attr('fill', d => colorScale(d.category));

// Add chart title (optional)
svg.append('text')
  .attr('class', 'title')
  .attr('x', width / 2)
  .attr('y', 30)
  .text('Bar Chart');

// Y-axis label
svg.append('text')
  .attr('transform', 'rotate(-90)')
  .attr('x', - (height / 2))
  .attr('y', 15)
  .attr('text-anchor', 'middle')
  .text('Value');

// X-axis label
svg.append('text')
  .attr('x', (50 + 750) / 2)
  .attr('y', height - 10)
  .attr('text-anchor', 'middle')
  .text('Category');
</script>
</body>
</html>