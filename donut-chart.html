<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Donut Chart</title>
<script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
<style>
  body {font-family: Arial, sans-serif; text-align: center;}
  .chart-title {font-size: 20px; font-weight: bold; margin-bottom: 10px;}
</style>
</head>
<body>
<div class="chart-title">Donut Chart</div>
<svg id="donut-chart" width="400" height="400"></svg>

<script>
// Inline data
const data = [
  {segment: "Q1", revenue: 250000, startAngle: 0, endAngle: 1.309},
  {segment: "Q2", revenue: 320000, startAngle: 1.309, endAngle: 2.982},
  {segment: "Q3", revenue: 180000, startAngle: 2.982, endAngle: 3.925},
  {segment: "Q4", revenue: 420000, startAngle: 3.925, endAngle: 6.283}
];

// Dimensions
const width = 400;
const height = 400;
const radius = Math.min(width, height) / 2;

// Create SVG container
const svg = d3.select("#donut-chart")
    .attr("viewBox", `0 0 ${width} ${height}`)
    .append("g")
    .attr("transform", `translate(${width/2},${height/2})`);

// Color scale (ordinal using Spectral scheme)
const color = d3.scaleOrdinal()
    .domain(data.map(d => d.segment))
    .range(d3.schemeSpectral);

// Arc generator with inner and outer radius
const arcGen = d3.arc()
    .innerRadius(60)
    .outerRadius(150);

// Draw arcs
svg.selectAll("path")
  .data(data)
  .enter()
  .append("path")
    .attr("d", d => 
        arcGen({
            startAngle: d.startAngle,
            endAngle: d.endAngle
        })
    )
    .attr("fill", d => color(d.segment))
    .attr("stroke", "white")
    .attr("stroke-width", 2);

// Optional: Add labels (optional, not required by config)
// This example does not add labels for simplicity
</script>
</body>
</html>